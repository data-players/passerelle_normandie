{"ast":null,"code":"/* jshint esversion: 6 */\n\n/* jslint node: true */\n'use strict';\n\nmodule.exports = function (object) {\n  return serialize(object);\n\n  function serialize(object) {\n    if (object === null || typeof object !== 'object' || object.toJSON != null) {\n      return JSON.stringify(object);\n    }\n\n    if (Array.isArray(object) && object.length === 0) {\n      return '[]';\n    }\n\n    if (Array.isArray(object) && object.length === 1) {\n      return '[' + serialize(object[0]) + ']';\n    }\n\n    if (Array.isArray(object)) {\n      return '[' + object.reduce((t, cv, ci) => {\n        t = ci === 1 ? serialize(t) : t;\n        return t + ',' + serialize(cv);\n      }) + ']';\n    }\n\n    const keys = Object.keys(object);\n\n    if (keys.length === 0) {\n      return '{}';\n    }\n\n    if (keys.length === 1) {\n      return '{' + serialize(keys[0]) + ':' + serialize(object[keys[0]]) + '}';\n    }\n\n    return '{' + keys.sort().reduce((t, cv, ci) => {\n      t = ci === 1 ? serialize(t) + ':' + serialize(object[t]) : t;\n      return t + ',' + serialize(cv) + ':' + serialize(object[cv]);\n    }) + '}';\n  }\n};","map":{"version":3,"sources":["/app/node_modules/canonicalize/lib/canonicalize.js"],"names":["module","exports","object","serialize","toJSON","JSON","stringify","Array","isArray","length","reduce","t","cv","ci","keys","Object","sort"],"mappings":"AAAA;;AACA;AACA;;AAEAA,MAAM,CAACC,OAAP,GAAiB,UAAUC,MAAV,EAAkB;AACjC,SAAOC,SAAS,CAACD,MAAD,CAAhB;;AAEA,WAASC,SAAT,CAAoBD,MAApB,EAA4B;AAC1B,QAAIA,MAAM,KAAK,IAAX,IAAmB,OAAOA,MAAP,KAAkB,QAArC,IAAiDA,MAAM,CAACE,MAAP,IAAiB,IAAtE,EAA4E;AAC1E,aAAOC,IAAI,CAACC,SAAL,CAAeJ,MAAf,CAAP;AACD;;AACD,QAAIK,KAAK,CAACC,OAAN,CAAcN,MAAd,KAAyBA,MAAM,CAACO,MAAP,KAAkB,CAA/C,EAAkD;AAChD,aAAO,IAAP;AACD;;AACD,QAAIF,KAAK,CAACC,OAAN,CAAcN,MAAd,KAAyBA,MAAM,CAACO,MAAP,KAAkB,CAA/C,EAAkD;AAChD,aAAO,MAAMN,SAAS,CAACD,MAAM,CAAC,CAAD,CAAP,CAAf,GAA6B,GAApC;AACD;;AACD,QAAIK,KAAK,CAACC,OAAN,CAAcN,MAAd,CAAJ,EAA2B;AACzB,aAAO,MAAMA,MAAM,CAACQ,MAAP,CAAc,CAACC,CAAD,EAAIC,EAAJ,EAAQC,EAAR,KAAe;AACxCF,QAAAA,CAAC,GAAIE,EAAE,KAAK,CAAP,GAAWV,SAAS,CAACQ,CAAD,CAApB,GAA0BA,CAA/B;AACA,eAAOA,CAAC,GAAG,GAAJ,GAAUR,SAAS,CAACS,EAAD,CAA1B;AACD,OAHY,CAAN,GAGF,GAHL;AAID;;AACD,UAAME,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYZ,MAAZ,CAAb;;AACA,QAAIY,IAAI,CAACL,MAAL,KAAgB,CAApB,EAAuB;AACrB,aAAO,IAAP;AACD;;AACD,QAAIK,IAAI,CAACL,MAAL,KAAgB,CAApB,EAAuB;AACrB,aAAO,MAAMN,SAAS,CAACW,IAAI,CAAC,CAAD,CAAL,CAAf,GAA2B,GAA3B,GAAiCX,SAAS,CAACD,MAAM,CAACY,IAAI,CAAC,CAAD,CAAL,CAAP,CAA1C,GAA8D,GAArE;AACD;;AACD,WAAO,MAAMA,IAAI,CAACE,IAAL,GAAYN,MAAZ,CAAmB,CAACC,CAAD,EAAIC,EAAJ,EAAQC,EAAR,KAAe;AAC7CF,MAAAA,CAAC,GAAIE,EAAE,KAAK,CAAP,GAAWV,SAAS,CAACQ,CAAD,CAAT,GAAe,GAAf,GAAqBR,SAAS,CAACD,MAAM,CAACS,CAAD,CAAP,CAAzC,GAAuDA,CAA5D;AACA,aAAOA,CAAC,GAAG,GAAJ,GAAUR,SAAS,CAACS,EAAD,CAAnB,GAA0B,GAA1B,GAAgCT,SAAS,CAACD,MAAM,CAACU,EAAD,CAAP,CAAhD;AACD,KAHY,CAAN,GAGF,GAHL;AAID;AACF,CA/BD","sourcesContent":["/* jshint esversion: 6 */\n/* jslint node: true */\n'use strict';\n\nmodule.exports = function (object) {\n  return serialize(object);\n\n  function serialize (object) {\n    if (object === null || typeof object !== 'object' || object.toJSON != null) {\n      return JSON.stringify(object);\n    }\n    if (Array.isArray(object) && object.length === 0) {\n      return '[]';\n    }\n    if (Array.isArray(object) && object.length === 1) {\n      return '[' + serialize(object[0]) + ']';\n    }\n    if (Array.isArray(object)) {\n      return '[' + object.reduce((t, cv, ci) => {\n        t = (ci === 1 ? serialize(t) : t);\n        return t + ',' + serialize(cv);\n      }) + ']';\n    }\n    const keys = Object.keys(object);\n    if (keys.length === 0) {\n      return '{}';\n    }\n    if (keys.length === 1) {\n      return '{' + serialize(keys[0]) + ':' + serialize(object[keys[0]]) + '}';\n    }\n    return '{' + keys.sort().reduce((t, cv, ci) => {\n      t = (ci === 1 ? serialize(t) + ':' + serialize(object[t]) : t);\n      return t + ',' + serialize(cv) + ':' + serialize(object[cv]);\n    }) + '}';\n  }\n};\n"]},"metadata":{},"sourceType":"script"}